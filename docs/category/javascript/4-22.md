---
title: 4-22 深浅拷贝
date: "2022-04-22"
categories:
  - javascript
tags:
  - javascript
publish: true
sticky: 8
---

## 认识下 javaScript 的变量类型

**基本类型：**

基本数据类型 Undefined、Null、Boolean、Number 和 String，变量是直接按值存放的，存放在栈内存中的简单数据段，可以直接访问。

**引用类型：**

存放在堆内存中的对象，变量保存的是一个指针，这个指针指向另一个位置。当需要访问引用类型（如对象，数组等）的值时，首先从栈中获得该对象的地址指针，然后再从堆内存中取得所需的数据。

```js
// 基本数据类型-栈内存
let name = "大白";
// 基本数据类型-栈内存
let age = 20;
// 基本数据类型-栈内存
let info = null;
// 对象指针存放在栈内存中，指针指向的对象放在堆内存中
let msgObj = { msg: "测试", id: 5 };
// 数组的指针存放在栈内存中，指针指向的数组存放在堆内存中
let ages = [19, 22, 57];
```

上图在内存中的存储形式：
<img :src="$withBase('/7.webp')" width="100%" height="100%" alt="1" />

### 对深浅拷贝的认知

JavaScript 存储对象类型都是存地址的，由于浅克隆了一层数据，深层的引用并没有克隆。所以改变了深层引用的内容，都是在原来的内存上做修改会导致拷贝对象和源对象都发生改变

而深拷贝是开辟一块新的内存地址，将原对象的各个属性逐个复制进去。对拷贝对象和源对象各自的操作互不影响。
